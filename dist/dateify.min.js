!function(t,e){if("function"==typeof define&&define.amd)define(["exports","decorators-js","js-typed"],e);else if("undefined"!=typeof exports)e(exports,require("decorators-js"),require("js-typed"));else{var r={exports:{}};e(r.exports,t.decoratorsJs,t.jsTyped),t.dateify=r.exports}}(this,function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e["default"]=t,e}function i(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.order=t.destructure=t.toUTCDateString=t.isLeapYear=t.deDateify=t.dateify=t.toPaperTime=t.toPaperDate=t.toTimeInput=t.toDateInput=void 0;var a=n(e),u=n(r),o=function(){function t(t,e){var r=[],n=!0,i=!1,a=void 0;try{for(var u,o=t[Symbol.iterator]();!(n=(u=o.next()).done)&&(r.push(u.value),!e||r.length!==e);n=!0);}catch(f){i=!0,a=f}finally{try{!n&&o["return"]&&o["return"]()}finally{if(i)throw a}}return r}return function(e,r){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],s=/(?:[0-9]{4}[-\/][0-1][0-9][-\/][0-3][0-9])|(?:[0-1][0-9][-\/][0-3][0-9][-\/][0-9]{4})/,c=/[0-2][0-9]:[0-5][0-9](?::[0-5][0-9])?[+-Z]?(?:[0-2][0-9]:[0-5][0-9])?/,d="yyyy-mm-dd",p="hh:mm",l=/^\s*function\s*(\S*)\s*\(/,g=new RegExp([/[A-Z][a-z]{2} [A-Z][a-z]{2} [0-3][0-9] [0-9]{4}/,/(?: [0-9]{2}:[0-9]{2}:[0-9]{2} GMT[-+][0-2][0-9][0-5][0-9] \([A-Z]{3}\))?/].map(function(t){return t.source}).join(""),"g"),v=function(){var t=document.createElement("input"),e="not-a-date";return t.setAttribute("type","date"),t.setAttribute("value",e),t.value!==e}(),y=(u.guard("function",function(t){return t.name||((""+t).match(l)||[])[1]||"Anonymous"}),a.padInt(2)),m=u.guardClass(0,Date);u.defType("__Array<Number>",function(t){return u.isType("array",t)&&t.every(function(t){return!Number.isNaN(+t)})});var h=a.debounce(500);u.defType("__dateString",function(t){return u.isType("string",t)&&t.match(g)}),u.defType("__isoDateString",function(t){return u.isType("string",t)&&t.match(s)});var T=u.guard(function(t,e){return v?e.setAttribute("type",t):!function(){e.setAttribute("pattern","date"===t?s:c),e.DEFAULT="date"===t?d:p,e.value=e.DEFAULT;var r="date"===t?dateValidator:timeValidator;e.validate=function(t){var e=this;e.addEventListener("input",h(function(){e.valid=!1,r.call(e,t)}))},e.validate(function(){this.value||(this.value=this.DEFAULT)})}(),e}),A=function(t){return function(e){return e||document.createElement(t)}},D=A("input"),b=A("paper-input"),_=T("date"),x=T("time"),E=function(t){return _(D(t))},S=function(t){return x(D(t))},w=function(t){return _(b(t))},O=function(t){return x(b(t))},j=u.Dispatcher([u.guard("__isoDateString",function(t){var e=-1===t.indexOf("T")?" ":"T",r=t.indexOf("-")>=0?"-":"/",n=t.split(e),a=o(n,2),u=a[0],f=a[1],s=void 0,c=void 0,d=void 0,p=void 0;if(f){var l=-1!==f.indexOf("Z");if(p=f.match(/[-+][01][0-9]:[0-5][0-9]/),l&&p)throw new Error("DateError: string "+t+" contains both 'Z' and a timezone.");var g=void 0;switch(!1){case!l:var v=f.split("Z"),y=o(v,1);g=y[0];break;case!p:var h=f.split(/[+-]/),T=o(h,1);g=T[0];break;default:g=f}var A=g.split(":").map(function(t){return+t}),D=o(A,3);s=D[0],c=D[1],d=D[2]}var b=u.split(r).map(function(t){return+t}),_=o(b,3),x=_[0],E=_[1],S=_[2],w=x>11||32>S?[x,E,S]:[S,E,x],O=o(w,3),j=O[0],M=O[1],Z=O[2],F=[j,M-1,Z,s,c,d].map(function(t){return t||0});return p?function(){var t=p[0][0],e=p[0].slice(1,p[0].length).split(":"),r=o(e,2),n=r[0],a=r[1],u=60*+(t+n)+ +(t+a);return[m.apply(void 0,i(F)).getTime()-60*u*1e3]}():F}),u.guard("__dateString",function(t){var e=t.split(" "),r=o(e,6),n=r[1],a=r[2],u=r[3],s=r[4],c=(r[5],f.indexOf(n)),d=+a,p=+u,l=s?s.split(":").map(function(t){return+t}):[0,0,0],g=o(l,3),v=g[0],y=g[1],h=g[2],T=t.match(/[-+][01][0-9][0-5][0-9]/),A=[p,c,d,v,y,h].map(function(t){return t||0});return T?function(){var t=T[0][0],e=T[0].slice(1,T[0].length),r=e.slice(0,2),n=e.slice(2,4),a=60*+(t+r)+ +(t+n);return[m.apply(void 0,i(A)).getTime()-60*a*1e3]}():A}),u.guard("date",function(t){return[t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds()]})]),M=u.Dispatcher([u.guard("string",function(t){return m.apply(void 0,i(j(t)))}),u.guard("number",function(t){return m(t)}),u.guard("date",function(t){return t}),u.guard("__Array<Number>",function(t){return m.apply(void 0,i(t))})]),Z=u.guard("date",function(t){return t.getFullYear()+"-"+y(t.getMonth()+1)+"-"+y(t.getDate())}),F=function(t){return u.guard("number",function(e){if(0===e)throw t;var r=!0;return 4===e||0>e||e%4?r=!1:e%400&&(e%100||(r=!1)),r})}(new Error("Year zero does not exist, refers to 1 BCE")),I=function(t){var e=M(t),r=new Date(e.getTime()+60*e.getTimezoneOffset()*1e3),n=Z(r);return n+("T"+y(r.getHours())+":"+y(r.getMinutes())+":"+y(r.getSeconds())+"Z")},L=a.unGather(function(){for(var t=arguments.length,e=Array(t),r=0;t>r;r++)e[r]=arguments[r];return e.sort(function(t,e){return t.getTime()-e.getTime()})});t.toDateInput=E,t.toTimeInput=S,t.toPaperDate=w,t.toPaperTime=O,t.dateify=M,t.deDateify=Z,t.isLeapYear=F,t.toUTCDateString=I,t.destructure=j,t.order=L});