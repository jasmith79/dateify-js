!function(t,e){if("function"==typeof define&&define.amd)define(["exports","decorators-js","js-typed"],e);else if("undefined"!=typeof exports)e(exports,require("decorators-js"),require("js-typed"));else{var r={exports:{}};e(r.exports,t.decoratorsJs,t.jsTyped),t.dateify=r.exports}}(this,function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e["default"]=t,e}function i(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.order=t.destructure=t.toUTCDateString=t.isLeapYear=t.deDateify=t.dateify=t.toPaperTime=t.toPaperDate=t.toTimeInput=t.toDateInput=void 0;var a=n(e),u=n(r),o=function(){function t(t,e){var r=[],n=!0,i=!1,a=void 0;try{for(var u,o=t[Symbol.iterator]();!(n=(u=o.next()).done)&&(r.push(u.value),!e||r.length!==e);n=!0);}catch(s){i=!0,a=s}finally{try{!n&&o["return"]&&o["return"]()}finally{if(i)throw a}}return r}return function(e,r){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],c=/(?:[0-9]{4}[-\/][0-1][0-9][-\/][0-3][0-9])|(?:[0-1][0-9][-\/][0-3][0-9][-\/][0-9]{4})/,f=/[0-2][0-9]:[0-5][0-9](?::[0-5][0-9])?[+-Z]?(?:[0-2][0-9]:[0-5][0-9])?/,d=/^y{1,4}-?m{0,2}-?d{0,2}/i,p=/^h{1,2}:?m{0,2}:?s{0,2}\s*[ap]?/i,l="yyyy-mm-dd",v="hh:mm",g=/^\s*function\s*(\S*)\s*\(/,m=new RegExp([/[A-Z][a-z]{2} [A-Z][a-z]{2} [0-3][0-9] [0-9]{4}/,/(?: [0-9]{2}:[0-9]{2}:[0-9]{2} GMT[-+][0-2][0-9][0-5][0-9] \([A-Z]{3}\))?/].map(function(t){return t.source}).join(""),"g"),y=function(){var t=document.createElement("input"),e="not-a-date";return t.setAttribute("type","date"),t.setAttribute("value",e),t.value!==e}(),h=(u.guard("function",function(t){return t.name||((""+t).match(g)||[])[1]||"Anonymous"}),a.padInt(2)),T=u.guardClass(0,Date);u.defType("__Array<Number>",function(t){return u.isType("array",t)&&t.every(function(t){return!Number.isNaN(+t)})});var A=a.debounce(500);u.defType("__dateString",function(t){return u.isType("string",t)&&t.match(m)}),u.defType("__isoDateString",function(t){return u.isType("string",t)&&t.match(c)});var D=function(t,e){return u.guard(function(r,n){return y?n.setAttribute("type",r):!function(){n.setAttribute("pattern","date"===r?c:f),n.DEFAULT="date"===r?l:v,n.value=n.DEFAULT;var i="date"===r?e:t;n.validate=function(t){var e=this;e.addEventListener("input",A(function(){e.valid=!1,i.call(e,t)}))},n.validate(function(){this.value||(this.value=this.DEFAULT)})}(),n})}(function(t){var e=this.value.match(p),r=e||this.value.match(f);r?this.valid=!0:t.call(this,this)},function(t){var e=this.value.match(d),r=e||this.value.match(c);r?this.valid=!0:t.call(this,this)}),b=function(t){return function(e){return e||document.createElement(t)}},_=b("input"),x=b("paper-input"),E=D("date"),S=D("time"),w=function(t){return E(_(t))},O=function(t){return S(_(t))},j=function(t){return E(x(t))},M=function(t){return S(x(t))},Z=u.Dispatcher([u.guard("__isoDateString",function(t){var e=-1===t.indexOf("T")?" ":"T",r=t.indexOf("-")>=0?"-":"/",n=t.split(e),a=o(n,2),u=a[0],s=a[1],c=void 0,f=void 0,d=void 0,p=void 0;if(s){var l=-1!==s.indexOf("Z");if(p=s.match(/[-+][01][0-9]:[0-5][0-9]/),l&&p)throw new Error("DateError: string "+t+" contains both 'Z' and a timezone.");var v=void 0;switch(!1){case!l:var g=s.split("Z"),m=o(g,1);v=m[0];break;case!p:var y=s.split(/[+-]/),h=o(y,1);v=h[0];break;default:v=s}var A=v.split(":").map(function(t){return+t}),D=o(A,3);c=D[0],f=D[1],d=D[2]}var b=u.split(r).map(function(t){return+t}),_=o(b,3),x=_[0],E=_[1],S=_[2],w=x>11||32>S?[x,E,S]:[S,E,x],O=o(w,3),j=O[0],M=O[1],Z=O[2],F=[j,M-1,Z,c,f,d].map(function(t){return t||0});return p?function(){var t=p[0][0],e=p[0].slice(1,p[0].length).split(":"),r=o(e,2),n=r[0],a=r[1],u=60*+(t+n)+ +(t+a);return[T.apply(void 0,i(F)).getTime()-60*u*1e3]}():F}),u.guard("__dateString",function(t){var e=t.split(" "),r=o(e,6),n=r[1],a=r[2],u=r[3],c=r[4],f=(r[5],s.indexOf(n)),d=+a,p=+u,l=c?c.split(":").map(function(t){return+t}):[0,0,0],v=o(l,3),g=v[0],m=v[1],y=v[2],h=t.match(/[-+][01][0-9][0-5][0-9]/),A=[p,f,d,g,m,y].map(function(t){return t||0});return h?function(){var t=h[0][0],e=h[0].slice(1,h[0].length),r=e.slice(0,2),n=e.slice(2,4),a=60*+(t+r)+ +(t+n);return[T.apply(void 0,i(A)).getTime()-60*a*1e3]}():A}),u.guard("date",function(t){return[t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds()]})]),F=u.Dispatcher([u.guard("string",function(t){return T.apply(void 0,i(Z(t)))}),u.guard("number",function(t){return T(t)}),u.guard("date",function(t){return t}),u.guard("__Array<Number>",function(t){return T.apply(void 0,i(t))})]),I=u.guard("date",function(t){return t.getFullYear()+"-"+h(t.getMonth()+1)+"-"+h(t.getDate())}),L=function(t){return u.guard("number",function(e){if(0===e)throw t;var r=!0;return 4===e||0>e||e%4?r=!1:e%400&&(e%100||(r=!1)),r})}(new Error("Year zero does not exist, refers to 1 BCE")),N=function(t){var e=F(t),r=new Date(e.getTime()+60*e.getTimezoneOffset()*1e3),n=I(r);return n+("T"+h(r.getHours())+":"+h(r.getMinutes())+":"+h(r.getSeconds())+"Z")},P=a.unGather(function(){for(var t=arguments.length,e=Array(t),r=0;t>r;r++)e[r]=arguments[r];return e.sort(function(t,e){return t.getTime()-e.getTime()})});t.toDateInput=w,t.toTimeInput=O,t.toPaperDate=j,t.toPaperTime=M,t.dateify=F,t.deDateify=I,t.isLeapYear=L,t.toUTCDateString=N,t.destructure=Z,t.order=P});