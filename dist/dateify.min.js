!function(t,e){if("function"==typeof define&&define.amd)define(["exports","decorators-js","js-typed"],e);else if("undefined"!=typeof exports)e(exports,require("decorators-js"),require("js-typed"));else{var r={exports:{}};e(r.exports,t.decoratorsJs,t.jsTyped),t.dateify=r.exports}}(this,function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e["default"]=t,e}function a(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.order=t.destructure=t.toUTCDateString=t.isLeapYear=t.deDateify=t.dateify=t.toPaperTime=t.toPaperDate=t.toTimeInput=t.toDateInput=void 0;var i=n(e),u=n(r),o=function(){function t(t,e){var r=[],n=!0,a=!1,i=void 0;try{for(var u,o=t[Symbol.iterator]();!(n=(u=o.next()).done)&&(r.push(u.value),!e||r.length!==e);n=!0);}catch(d){a=!0,i=d}finally{try{!n&&o["return"]&&o["return"]()}finally{if(a)throw i}}return r}return function(e,r){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),d=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],f=/(?:[0-9]{4}[-\/][0-1][0-9][-\/][0-3][0-9])|(?:[0-1][0-9][-\/][0-3][0-9][-\/][0-9]{4})/,s=/[0-2][0-9]:[0-5][0-9](?::[0-5][0-9])?[+-Z]?(?:[0-2][0-9]:[0-5][0-9])?/,c="yyyy-mm-dd",p="hh:mm",l=/^\s*function\s*(\S*)\s*\(/,v=new RegExp([/[A-Z][a-z]{2} [A-Z][a-z]{2} [0-3][0-9] [0-9]{4}/,/(?: [0-9]{2}:[0-9]{2}:[0-9]{2} GMT[-+][0-2][0-9][0-5][0-9] \([A-Z]{3}\))?/].map(function(t){return t.source}).join(""),"g"),y=function(){var t=document.createElement("input"),e="not-a-date";return t.setAttribute("type","date"),t.setAttribute("value",e),t.value!==e}(),g=(u.guard("function",function(t){return t.name||((""+t).match(l)||[])[1]||"Anonymous"}),i.padInt(2)),m=u.guardClass(0,Date);u.defType("__Array<Number>",function(t){return u.isType("array",t)&&t.every(function(t){return!Number.isNaN(+t)})});var h=i.debounce(500);u.defType("__dateString",function(t){return u.isType("string",t)&&t.match(v)}),u.defType("__isoDateString",function(t){return u.isType("string",t)&&t.match(f)});var T=u.guard(function(t,e){return y?e.setAttribute("type",t):!function(){e.setAttribute("pattern","date"===t?f:s),e.DEFAULT="date"===t?c:p,e.value=e.DEFAULT;var r="date"===t?dateValidator:timeValidator;e.validate=function(t){var e=this;e.addEventListener("input",h(function(){e.valid=!1,r.call(e,t)}))},e.validate(function(){this.value||(this.value=this.DEFAULT)})}(),e}),A=function(t){return function(e){return e||document.createElement(t)}},b=A("input"),D=A("paper-input"),_=T("date"),x=T("time"),E=function(t){return _(b(t))},S=function(t){return x(b(t))},w=function(t){return _(D(t))},j=function(t){return x(D(t))},M=u.Dispatcher([u.guard("__isoDateString",function(t){var e=-1===t.indexOf("T")?" ":"T",r=t.indexOf("-")>=0?"-":"/",n=t.split(e),i=o(n,2),u=i[0],d=i[1],f=void 0,s=void 0,c=void 0,p=void 0;if(d){var l=-1!==d.indexOf("Z");if(p=d.match(/[-+][01][0-9]:[0-5][0-9]/),l&&p)throw new Error("DateError: string "+t+" contains both 'Z' and a timezone.");var v=void 0;switch(!0){case l:var y=d.split("Z"),g=o(y,1);v=g[0];break;case p:var h=d.split(/[+-]/),T=o(h,1);v=T[0];break;default:v=d}var A=v.split(":").map(function(t){return+t}),b=o(A,3);f=b[0],s=b[1],c=b[2]}var D=u.split(r).map(function(t){return+t}),_=o(D,3),x=_[0],E=_[1],S=_[2],w=x>11||32>S?[x,E,S]:[S,E,x],j=o(w,3),M=j[0],O=j[1],Z=j[2],F=[M,O-1,Z,f,s,c].map(function(t){return t||0});return p?function(){var t=p[0][0],e=p[0].slice(1,p.length).split(":"),r=o(e,2),n=r[0],i=r[1],u=60*+(t+n)+ +(t+i);return[m.apply(void 0,a(F)).getTime()-60*u*1e3]}():F}),u.guard("__dateString",function(t){var e=t.split(" "),r=o(e,6),n=r[1],a=r[2],i=r[3],u=r[4],f=(r[5],d.indexOf(n)),s=+a,c=+i,p=u?u.split(":").map(function(t){return+t}):[0,0,0],l=o(p,3),v=l[0],y=l[1],g=l[2];return[c,f,s,v,y,g].map(function(t){return t||0})}),u.guard("date",function(t){return[t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds()]})]),O=u.Dispatcher([u.guard("string",function(t){return m.apply(void 0,a(M(t)))}),u.guard("number",function(t){return m(t)}),u.guard("date",function(t){return t}),u.guard("__Array<Number>",function(t){return m.apply(void 0,a(t))})]),Z=u.guard("date",function(t){return t.getFullYear()+"-"+g(t.getMonth()+1)+"-"+g(t.getDate())}),F=function(t){return u.guard("number",function(e){if(0===e)throw t;var r=!0;return 4===e||0>e||e%4?r=!1:e%400&&(e%100||(r=!1)),r})}(new Error("Year zero does not exist, refers to 1 BCE")),I=function(t){var e=O(t),r=Z(e);return r+("T"+g(e.getHours())+":"+g(e.getMinutes())+":"+g(e.getSeconds())+"Z")},L=i.unGather(function(){for(var t=arguments.length,e=Array(t),r=0;t>r;r++)e[r]=arguments[r];return e.sort(function(t,e){return t.getTime()-e.getTime()})});t.toDateInput=E,t.toTimeInput=S,t.toPaperDate=w,t.toPaperTime=j,t.dateify=O,t.deDateify=Z,t.isLeapYear=F,t.toUTCDateString=I,t.destructure=M,t.order=L});