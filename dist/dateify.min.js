!function(t,e){if("function"==typeof define&&define.amd)define(["exports","decorators-js","js-typed"],e);else if("undefined"!=typeof exports)e(exports,require("decorators-js"),require("js-typed"));else{var r={exports:{}};e(r.exports,t.decoratorsJs,t.jsTyped),t.dateify=r.exports}}(this,function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e["default"]=t,e}function i(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.order=t.destructure=t.toUTCDateString=t.isLeapYear=t.deDateify=t.dateify=t.toPaperTime=t.toPaperDate=t.toTimeInput=t.toDateInput=void 0;var a=n(e),u=n(r),o=function(){function t(t,e){var r=[],n=!0,i=!1,a=void 0;try{for(var u,o=t[Symbol.iterator]();!(n=(u=o.next()).done)&&(r.push(u.value),!e||r.length!==e);n=!0);}catch(f){i=!0,a=f}finally{try{!n&&o["return"]&&o["return"]()}finally{if(i)throw a}}return r}return function(e,r){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],s=/(?:[0-9]{4}[-\/][0-1][0-9][-\/][0-3][0-9])|(?:[0-1][0-9][-\/][0-3][0-9][-\/][0-9]{4})/,c=/[0-2][0-9]:[0-5][0-9](?::[0-5][0-9])?[+-Z]?(?:[0-2][0-9]:[0-5][0-9])?/,d=/^y{1,4}-?m{0,2}-?d{0,2}/i,p=/^h{1,2}:?m{0,2}:?s{0,2}\s*[ap]?/i,l="yyyy-mm-dd",v="hh:mm",y=new RegExp([/[A-Z][a-z]{2} [A-Z][a-z]{2} [0-3][0-9] [0-9]{4}/,/(?: [0-9]{2}:[0-9]{2}:[0-9]{2} GMT[-+][0-2][0-9][0-5][0-9] \([A-Z]{3}\))?/].map(function(t){return t.source}).join(""),"g"),m=function(){if("undefined"==typeof document)return!1;var t=document.createElement("input"),e="not-a-date";return t.setAttribute("type","date"),t.setAttribute("value",e),t.value!==e}(),g=a.padInt(2),h=u.guardClass(0,Date);u.defType("__Array<Number>",function(t){return u.isType("array",t)&&t.every(function(t){return!Number.isNaN(+t)})});var T=a.debounce(500);u.defType("__dateString",function(t){return u.isType("string",t)&&t.match(y)}),u.defType("__isoDateString",function(t){return u.isType("string",t)&&t.match(s)});var A=function(t,e){return u.guard(function(r,n){return m?n.setAttribute("type",r):!function(){n.setAttribute("pattern","date"===r?s:c),n.DEFAULT="date"===r?l:v,n.value=n.DEFAULT;var i="date"===r?e:t;n.validate=function(t){var e=this;e.addEventListener("input",T(function(){e.valid=!1,i.call(e,t)}))},n.validate(function(){this.value||(this.value=this.DEFAULT)})}(),n})}(function(t){var e=this.value.match(p),r=e||this.value.match(c);r?this.valid=!0:t.call(this,this)},function(t){var e=this.value.match(d),r=e||this.value.match(s);r?this.valid=!0:t.call(this,this)}),b=function(t){return function(e){return e||document.createElement(t)}},D=b("input"),_=b("paper-input"),x=A("date"),E=A("time"),w=function(t){return x(D(t))},O=function(t){return E(D(t))},S=function(t){return x(_(t))},j=function(t){return E(_(t))},Z=u.Dispatcher([u.guard("__isoDateString",function(t){var e=-1===t.indexOf("T")?" ":"T",r=t.indexOf("-")>=0?"-":"/",n=t.split(e),i=o(n,2),a=i[0],u=i[1],f=void 0,s=void 0,c=void 0,d=void 0;if(u){var p=-1!==u.indexOf("Z");if(d=u.match(/[-+][01][0-9]:[0-5][0-9]/),p&&d)throw new Error("DateError: string "+t+" contains both 'Z' and a timezone.");var l=void 0;switch(!1){case!p:var v=u.split("Z"),y=o(v,1);l=y[0];break;case!d:var m=u.split(/[+-]/),g=o(m,1);l=g[0];break;default:l=u}var h=l.split(":").map(function(t){return+t}),T=o(h,3);f=T[0],s=T[1],c=T[2]}var A=a.split(r).map(function(t){return+t}),b=o(A,3),D=b[0],_=b[1],x=b[2],E=D>11||32>x?[D,_,x]:[x,_,D],w=o(E,3),O=w[0],S=w[1],j=w[2],Z=[O,S-1,j,f,s,c].map(function(t){return t||0});return Z}),u.guard("__dateString",function(t){var e=t.split(" "),r=o(e,6),n=r[1],a=r[2],u=r[3],s=r[4],c=(r[5],f.indexOf(n)),d=+a,p=+u,l=s?s.split(":").map(function(t){return+t}):[0,0,0],v=o(l,3),y=v[0],m=v[1],g=v[2],T=!1,A=[p,c,d,y,m,g].map(function(t){return t||0});return T?function(){var t=T[0][0],e=T[0].slice(1,T[0].length),r=e.slice(0,2),n=e.slice(2,4),a=60*+(t+r)+ +(t+n);return[h.apply(void 0,i(A)).getTime()-60*a*1e3]}():A}),u.guard("date",function(t){return[t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds()]})]),M=u.Dispatcher([u.guard("string",function(t){return h.apply(void 0,i(Z(t)))}),u.guard("number",function(t){return h(t)}),u.guard("date",function(t){return t}),u.guard("__Array<Number>",function(t){return h.apply(void 0,i(t))})]),z=u.guard("date",function(t){var e=Z(t),r=o(e,6),n=r[0],i=r[1],a=r[2],u=r[3],f=r[4],s=r[5],c=t.getTimezoneOffset(),d=c>0?"-":"+",p=c/60|0,l=c%60;return n+"-"+g(i+1)+"-"+g(a)+"T"+g(u)+":"+g(f)+":"+g(s)+(""+d+g(p)+":"+g(l))}),I=function(t){return u.guard("number",function(e){if(0===e)throw t;var r=!0;return 4===e||0>e||e%4?r=!1:e%400&&(e%100||(r=!1)),r})}(new Error("Year zero does not exist, refers to 1 BCE")),L=function(t){var e=M(t),r=new Date(e.getTime()+60*e.getTimezoneOffset()*1e3),n=Z(r),i=o(n,6),a=i[0],u=i[1],f=i[2],s=i[3],c=i[4],d=i[5];return a+"-"+g(u+1)+"-"+g(f)+("T"+g(s)+":"+g(c)+":"+g(d)+"Z")},N=a.unGather(function(){for(var t=arguments.length,e=Array(t),r=0;t>r;r++)e[r]=arguments[r];return e.sort(function(t,e){return t.getTime()-e.getTime()})});t.toDateInput=w,t.toTimeInput=O,t.toPaperDate=S,t.toPaperTime=j,t.dateify=M,t.deDateify=z,t.isLeapYear=I,t.toUTCDateString=L,t.destructure=Z,t.order=N});